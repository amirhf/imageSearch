# Vector Store Configuration
VECTOR_BACKEND=pgvector
DATABASE_URL=postgresql+psycopg://postgres:postgres@localhost:5432/ai_router
QDRANT_URL=http://localhost:6333

# Model Configuration
USE_MOCK_MODELS=false

# Cloud Provider Configuration
CLOUD_PROVIDER=openrouter
OPENROUTER_API_KEY=
OPENROUTER_MODEL=openai/gpt-4o-mini

# Alternative cloud providers (for future)
OPENAI_API_KEY=
GEMINI_API_KEY=
ANTHROPIC_API_KEY=

# Routing Policy
CAPTION_CONFIDENCE_THRESHOLD=0.55
CAPTION_LATENCY_BUDGET_MS=600

# Cloud Rate Limiting
CLOUD_MAX_REQUESTS_PER_MINUTE=60
CLOUD_MAX_REQUESTS_PER_DAY=10000
CLOUD_DAILY_BUDGET_USD=10.00

# Cloud Circuit Breaker
CLOUD_CIRCUIT_BREAKER_THRESHOLD=5
CLOUD_CIRCUIT_BREAKER_TIMEOUT_SECONDS=60

# Image Storage Configuration
IMAGE_STORAGE_BACKEND=local           # local, s3, or minio
IMAGE_STORAGE_PATH=./storage/images   # For local backend
THUMBNAIL_SIZE=256                    # pixels (square)
BASE_URL=http://localhost:8000        # Base URL for download links

# S3-Compatible Storage (for s3 or minio backend)
S3_BUCKET_NAME=imagesearch           # Bucket name
S3_ENDPOINT_URL=                      # Leave empty for AWS S3, set for MinIO/R2
S3_ACCESS_KEY_ID=                     # AWS/MinIO access key
S3_SECRET_ACCESS_KEY=                 # AWS/MinIO secret key
S3_REGION=us-east-1                   # AWS region or 'auto' for R2
S3_USE_PRESIGNED_URLS=true            # Generate presigned URLs
S3_PRESIGNED_URL_EXPIRY=3600          # Presigned URL expiry (seconds)
S3_PUBLIC_URL_BASE=                   # Optional: public base URL (e.g., https://cdn.example.com/bucket)

# MinIO Configuration (for development)
# Use these when IMAGE_STORAGE_BACKEND=minio
# S3_ENDPOINT_URL=http://localhost:9000
# S3_ACCESS_KEY_ID=minioadmin
# S3_SECRET_ACCESS_KEY=minioadmin
# S3_BUCKET_NAME=imagesearch

# Cloudflare R2 Configuration (for production)
# Use these when IMAGE_STORAGE_BACKEND=s3
# S3_ENDPOINT_URL=https://<account-id>.r2.cloudflarestorage.com
# S3_ACCESS_KEY_ID=<r2-access-key>
# S3_SECRET_ACCESS_KEY=<r2-secret-key>
# S3_REGION=auto
# S3_BUCKET_NAME=imagesearch

# Supabase Configuration (Multi-tenant Authentication)
# Get these values from: https://supabase.com/dashboard/project/<project-id>/settings/api
SUPABASE_URL=                              # Your Supabase project URL (e.g., https://xxx.supabase.co)
SUPABASE_JWT_SECRET=                       # JWT Secret from API settings (used to validate tokens)
SUPABASE_SERVICE_KEY=                      # Service role key (for admin operations)
SUPABASE_ANON_KEY=                         # Anonymous key (public key for client-side)
ADMIN_USER_ID=                             # UUID of the admin user (created during migration)

# Redis Configuration (for Workers)
REDIS_URL=redis://localhost:6379/0
REDIS_PASSWORD=

# Hybrid Search Tuning
HYBRID_TEXT_BOOST=0.01
HYBRID_TEXT_WEIGHT=0.4

# Advanced Model Configuration
USE_REAL_EMBEDDER=true    # Set to true to use local Torch/OpenCLIP
USE_REAL_CAPTIONER=false  # Set to false to use Cloud/Mock captioning
SKIP_MODELS=false         # Build arg: set to true to skip installing heavy ML deps
